{"ast":null,"code":"import _classCallCheck from\"/Users/polzovatel/STUFF/FE/Portfolio/Converter/changer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/polzovatel/STUFF/FE/Portfolio/Converter/changer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/polzovatel/STUFF/FE/Portfolio/Converter/changer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/polzovatel/STUFF/FE/Portfolio/Converter/changer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Card from'./Card/Card';import'./App.css';import Header from'./Header/Header';import Calc from'./Calc/Calc';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.changeSum=function(){var c=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal1;});var d=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal2;});var newCost=(_this.state.Sum*c[0].Value/d[0].Value).toFixed(3);_this.setState({Cost2:newCost});};_this.changeActiveVal1=function(newVal){_this.setState({ActiveVal1:newVal});_this.changeSum();};_this.changeActiveVal2=function(newVal){_this.setState({ActiveVal2:newVal});var c=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal1;});var d=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal2;});var newSum=(_this.state.Cost2/c[0].Value*d[0].Value).toFixed(3);_this.setState({Sum:newSum});};_this.changeCost=function(event){var c=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal1;});var d=_this.state.Val.filter(function(i){return i.CharCode===_this.state.ActiveVal2;});var sum=event.target.value;var newCost=(event.target.value*c[0].Value/d[0].Value).toFixed(3);_this.setState({Cost2:newCost,Sum:sum});};_this.changeWallet=function(event){var wal=event.target.value;_this.setState({ActiveWall:wal});};_this.Close=function(){var arr=_this.state.Col3;arr.push('Closed');var arr1=_this.state.Col1;arr1.push('Closed');var arr3=_this.state.Col2;arr3.push('Closed');var arr2=_this.state.Col4;arr2.pop();_this.setState({Col3:arr,Col4:arr2,Col1:arr1,Col2:arr3});};_this.state={Val:[0],ActiveVal1:'SEK',ActiveVal2:'USD',Cost2:0,Sum:0,Col1:['Col1'],Col2:['Col2'],Col3:['Col3']};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('https://www.cbr-xml-daily.ru/daily_json.js').then(function(data){return data.json();}).then(function(data){var arr=Object.values(data.Valute);_this2.setState({Val:arr});// const newArr = [...this.state.Val2, ...arr]\n// this.setState({Val2: newArr})\n});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"AllVals\",children:[/*#__PURE__*/_jsxs(\"div\",{className:this.state.Col1.join(' '),children:[\"\\u0423 \\u0412\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C\",this.state.Val.map(function(card,index){return/*#__PURE__*/_jsx(Card,{name:card.Name,symbol:card.CharCode,onClick1:_this3.changeActiveVal1.bind(_this3,card.CharCode)},index);})]}),/*#__PURE__*/_jsx(\"div\",{className:this.state.Col3.join(' '),children:/*#__PURE__*/_jsx(Calc,{val1:this.state.ActiveVal1,val2:this.state.ActiveVal2,onChange:this.changeCost,cost1:this.state.Sum,cost2:this.state.Cost2,Close:this.Close,onChangeWallet:this.changeWallet})}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.Col2.join(' '),children:[\"\\u0412\\u044B \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0435\",this.state.Val.map(function(card,index){return/*#__PURE__*/_jsx(Card,{name:card.Name,symbol:card.CharCode,onClick1:_this3.changeActiveVal2.bind(_this3,card.CharCode)},index);})]})]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/polzovatel/STUFF/FE/Portfolio/Converter/changer/src/App.js"],"names":["React","Component","Card","Header","Calc","App","props","changeSum","c","state","Val","filter","i","CharCode","ActiveVal1","d","ActiveVal2","newCost","Sum","Value","toFixed","setState","Cost2","changeActiveVal1","newVal","changeActiveVal2","newSum","changeCost","event","sum","target","value","changeWallet","wal","ActiveWall","Close","arr","Col3","push","arr1","Col1","arr3","Col2","arr2","Col4","pop","fetch","then","data","json","Object","values","Valute","textAlign","join","map","card","index","Name","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Card from './Card/Card'\nimport './App.css'\nimport Header from './Header/Header'\nimport Calc from './Calc/Calc'\n\n\n\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n        Val: [0],\n        ActiveVal1 : 'SEK',\n        ActiveVal2 : 'USD',\n        Cost2 : 0,\n        Sum: 0,\n        Col1: ['Col1'],\n        Col2: ['Col2'],\n        Col3: ['Col3'],\n        };\n    }\n\n    componentDidMount() {\n        fetch( 'https://www.cbr-xml-daily.ru/daily_json.js')\n        .then( data => {\n            return data.json();\n        })\n        .then(data => {\n            let arr = Object.values(data.Valute)\n            this.setState({Val: arr})\n            // const newArr = [...this.state.Val2, ...arr]\n            // this.setState({Val2: newArr})\n        })\n    }\n    \n    changeSum = () => {\n        let c = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal1);\n        let d = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal2);\n        let newCost = (this.state.Sum * c[0].Value / d[0].Value ).toFixed(3) \n        this.setState({\n            Cost2: newCost,\n        })\n    }\n\n\n    changeActiveVal1 = (newVal) => {\n        this.setState({\n            ActiveVal1: newVal,\n        })\n        this.changeSum()\n    }\n\n    changeActiveVal2 = (newVal) => {\n        this.setState({\n            ActiveVal2: newVal,\n        })\n        let c = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal1);\n        let d = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal2);\n        let newSum = (this.state.Cost2 / c[0].Value * d[0].Value ).toFixed(3) \n        this.setState({\n            \n            Sum: newSum,\n        })\n    }\n\n    changeCost = (event) => {\n\n        let c = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal1);\n        let d = this.state.Val.filter ((i)=> i.CharCode === this.state.ActiveVal2);\n        let sum = event.target.value\n        let newCost = (event.target.value * c[0].Value / d[0].Value ).toFixed(3) \n         this.setState ({\n             Cost2: newCost,\n             Sum : sum,\n         })       \n    }\n\n    changeWallet = (event) => {\n        let wal = event.target.value \n        this.setState ({ActiveWall: wal})\n    }\n\n    Close = () => {\n        const arr = this.state.Col3\n        arr.push('Closed')\n        const arr1 = this.state.Col1\n        arr1.push('Closed')\n        const arr3 = this.state.Col2\n        arr3.push('Closed')\n        const arr2 = this.state.Col4\n        arr2.pop()\n        this.setState({\n            Col3: arr,\n            Col4: arr2,\n            Col1: arr1,\n            Col2: arr3,\n        })\n    }\n   \n\n    render() {\n\n  \n    return ( \n        <div style ={{textAlign: 'center'}}>\n            <Header />\n            <div className='AllVals'>\n                <div className={this.state.Col1.join(' ')}>\n                    У Вас есть \n                    \n                    { this.state.Val.map((card, index) => {\n                        return ( \n                            <Card\n                            key = {index} \n                            name = {card.Name} \n                            symbol = {card.CharCode}\n                            onClick1 = {this.changeActiveVal1.bind(this, card.CharCode)}\n                            />\n                        )\n                    }) \n                    }\n                </div>\n\n                <div className={this.state.Col3.join(' ')}>\n                    <Calc \n                    val1={this.state.ActiveVal1} \n                    val2={this.state.ActiveVal2} \n                    onChange = {this.changeCost} \n                    cost1 = {this.state.Sum} \n                    cost2 = {this.state.Cost2} \n                    Close = {this.Close} \n                    onChangeWallet = {this.changeWallet} />\n                </div>\n                \n                <div className={this.state.Col2.join(' ')}>\n                    Вы получите \n                    \n                    { this.state.Val.map((card, index) => {\n                        return ( \n                            <Card\n                            key = {index} \n                            name = {card.Name} \n                            symbol = {card.CharCode}\n                            onClick1 = {this.changeActiveVal2.bind(this, card.CharCode)}\n                            />\n                        )\n                    }) \n                    }\n                \n                    </div>\n\n            </div>\n        </div>\n    )\n    \n    }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}